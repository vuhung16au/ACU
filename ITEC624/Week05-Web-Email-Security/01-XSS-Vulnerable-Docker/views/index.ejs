<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>XSS Lab - Vulnerable</title>
    <style>
      body { 
        font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif; 
        margin: 2rem; 
        background-color: #F2EFEB; /* Soft Ivory */
        color: #302C2A; /* Deep Charcoal */
      }
      .hint { 
        background: #F2EFEB; /* Soft Ivory */
        color: #3C1053; /* Purple */
        padding: 1rem; 
        border-radius: 6px; 
        border: 2px solid #3C1053; /* Purple */
        margin-top: 1rem; 
        box-shadow: 0 2px 4px rgba(60, 16, 83, 0.1);
      }
      .container { 
        max-width: 720px; 
        margin: 0 auto; 
        background-color: #FFFFFF;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(60, 16, 83, 0.1);
      }
      input[type=text] { 
        width: 100%; 
        padding: .6rem .8rem; 
        font-size: 1rem; 
        border: 2px solid #918B83; /* Warm Stone */
        border-radius: 4px;
        background-color: #FFFFFF;
      }
      .result { 
        margin-top: 1rem; 
        padding: 1rem; 
        border: 2px solid #3C1053; /* Purple */
        border-radius: 6px; 
        background-color: #F2EFEB; /* Soft Ivory */
      }
      a { 
        color: #3C1053; /* Purple */
        text-decoration: none;
        font-weight: 500;
      }
      a:hover { 
        color: #B51825; /* Faculty Purple */
        text-decoration: underline;
      }
      h1 { 
        color: #3C1053; /* Purple */
        border-bottom: 3px solid #3C1053;
        padding-bottom: 0.5rem;
      }
      button { 
        background-color: #3C1053; /* Purple */
        color: #FFFFFF;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 4px;
        cursor: pointer;
        font-size: 1rem;
        margin-top: 0.5rem;
      }
      button:hover { 
        background-color: #B51825; /* Faculty Purple */
      }
      code { 
        background-color: #F2EFEB; /* Soft Ivory */
        color: #3C1053; /* Purple */
        padding: 0.2rem 0.4rem;
        border-radius: 3px;
        font-family: monospace;
        border: 1px solid #918B83; /* Warm Stone */
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Reflected XSS - Vulnerable Demo</h1>
      <p>Type something and submit. Your input will be reflected without encoding.</p>
      <form method="GET" action="/">
        <input name="q" type="text" placeholder="Try: <img src=x onerror=alert(1)>" value="<%- userInput %>" />
        <p><button type="submit">Search</button> or <a href="/safe?q=<%= encodeURIComponent(userInput) %>">see safe version</a></p>
      </form>

      <div class="result">
        <strong>Echoed back (unsafe):</strong>
        <div>
          <!-- Intentionally unescaped to demonstrate reflected XSS -->
          <%- userInput %>
        </div>
      </div>

      <div class="hint">
        <strong>Hint:</strong> Supply HTML with an event handler, e.g. <code>&lt;img src=x onerror=alert('xss')&gt;</code>. Also try script tags.
      </div>
    </div>
  </body>
  </html>


